<div class="page-header" style="position:relative">
    <p>Fine List
        <mat-icon class="fine_info_icon" matPrefix matTooltip="Fine only applicable if a member doesn't return the book within 14 days." matTooltipPosition="above">help</mat-icon>
        <a class="fine_show_icon" href="assets/fine/fine.pdf" target="_blank">
            <mat-icon matPrefix matTooltip="Fine details" matTooltipPosition="above">visibility
            </mat-icon>
        </a>
    </p>
</div>
<mat-card class="book-search">
    <form (ngSubmit)="onFineShowSubmit()" #bookForm="ngForm">
        <mat-form-field class="example-form-field">
            <input matInput type="text" placeholder="Search by Course ID" [(ngModel)]="courseId" name="courseId">
            <button mat-button *ngIf="courseId" matSuffix mat-icon-button aria-label="Clear" (click)="courseId=''">
    <mat-icon (click)=" getAllFineList()">close</mat-icon>
          </button>
        </mat-form-field>
        <button type="submit" mat-raised-button color="primary">
          <mat-icon>search</mat-icon>
      </button>
    </form>
</mat-card>

<mat-card>
    <!-- <div class="page-header">
        <p>Rules of Fine
            <mat-icon class="fine_info_icon" matPrefix matTooltip="Fine only applicable if a member doesn't return the book within 14 days." matTooltipPosition="above">help</mat-icon>
            <a class="fine_show_icon" href="assets/fine/fine.pdf" target="_blank"><mat-icon matPrefix matTooltip="Fine details" matTooltipPosition="above">visibility
            </mat-icon></a>
            
            
        </p>
    </div> -->
    <table *ngIf="FineList">
        <thead>
            <tr class="page-header">
                <th align="center">Sr</th>
                <!-- <th>User Name</th> -->
                <th align="center">Course No</th>
                <th align="center">Issue date</th>
                <th align="center">Issue No</th>
                <th align="center">Total Fine</th>
                <th align="center" *ngIf="userService.isEditFinePermission">Status</th>
                <th align="center" *ngIf="userService.isEditFinePermission">Tap to pay</th>
                <th align="center">Details</th>
            </tr>
        </thead>
        <tbody *ngFor="let f of FineList;let i=index">
            <tr>
                <td align="center">{{i+1}}</td>
                <!-- <td>Mohammad Imran</td> -->
                <td align="center">{{f.course_no}}</td>
                <td align="center">{{f.issue_date}}</td>
                <td align="center">{{f.issue_id}}</td>
                <td align="center" style="color:red; font-weight:600">{{f.fine_amount}} BDT </td>
                <td align="center" style="color:red; font-weight:600" *ngIf="userService.isEditFinePermission && f.status === 0"> Due</td>
                <td align="center" style="color:green; font-weight:600" *ngIf="userService.isEditFinePermission && f.status === 1"> Paid</td>
                <td align="center" *ngIf="userService.isEditFinePermission"> <button mat-raise-button color="primary" (click)="statusChange(f.fine_id)" [disabled]="f.status === 1">Pay</button> </td>
                <!-- <td align="center">
                    <mat-icon color="primary">border_color</mat-icon>
                </td> -->
                <td align="center">
                    <mat-icon color="warn" (click)="getfineDetails(f.user_id,f.issue_id,f.delay_days,f.fine_amount)">view_headline</mat-icon>
                </td>
            </tr>
        </tbody>

    </table>
</mat-card>

<ngx-loading [show]="loader"></ngx-loading>